(function(){"use strict";const T={PROBLEM_CONTEXT:"CM_PROBLEM_CONTEXT",GET_LATEST_CONTEXT:"CM_GET_LATEST_CONTEXT",LATEST_CONTEXT_RESPONSE:"CM_LATEST_CONTEXT_RESPONSE"};let r=null;chrome.runtime.onMessage.addListener((t,e,E)=>{if(t.type===T.PROBLEM_CONTEXT)return r=t.payload,chrome.storage.local.set({latestContext:t.payload}),!0;if(t.type===T.GET_LATEST_CONTEXT)if(r)E({type:T.LATEST_CONTEXT_RESPONSE,payload:r});else return chrome.storage.local.get("latestContext",o=>{E({type:T.LATEST_CONTEXT_RESPONSE,payload:o.latestContext||null})}),!0;return!0}),chrome.tabs.onActivated.addListener(async t=>{try{const e=await chrome.tabs.get(t.tabId);e.url&&(e.url.includes("leetcode.com")||e.url.includes("geeksforgeeks.org"))&&await chrome.scripting.executeScript({target:{tabId:t.tabId},files:["content.js"]})}catch(e){console.log("Could not inject content script:",e)}})})();
