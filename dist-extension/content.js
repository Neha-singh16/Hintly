(function(){"use strict";const p={PROBLEM_CONTEXT:"CM_PROBLEM_CONTEXT",GET_LATEST_CONTEXT:"CM_GET_LATEST_CONTEXT",LATEST_CONTEXT_RESPONSE:"CM_LATEST_CONTEXT_RESPONSE",GENERATE_HINT:"CM_GENERATE_HINT",HINT_RESPONSE:"CM_HINT_RESPONSE"};function C(t){try{const a=t.location.href.match(/\/problems\/([^/]+)/);if(!a)return null;const l=a[1];let r="";const u=['[data-cy="question-title"]',".text-title-large",'div[class*="text-title"]',"h1",'[class*="title"]'];for(const n of u){const e=t.querySelector(n);if(e&&e.textContent&&(r=e.textContent.trim(),r&&!r.includes("LeetCode")))break}r||(r=l.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "));let i="unknown";const f=['[class*="difficulty"]','[class*="Difficulty"]','div[class*="text-difficulty"]',".text-olive",".text-yellow",".text-pink",'[class*="text-easy"]','[class*="text-medium"]','[class*="text-hard"]'];for(const n of f){const e=t.querySelector(n);if(e&&e.textContent){const c=e.textContent.toLowerCase().trim();if(c.includes("easy")){i="easy";break}else if(c.includes("medium")){i="medium";break}else if(c.includes("hard")){i="hard";break}}}let o="";const d=['[data-track-load="description_content"]','[class*="elfjS"]',".question-content",'[class*="content__"]','[class*="description"]',".xFUwe"];for(const n of d){const e=t.querySelector(n);if(e&&e.textContent&&(o=e.textContent.trim(),o.length>50))break}return o=o.replace(/\s+/g," ").trim(),o.length>2e3&&(o=o.substring(0,2e3)+"..."),{site:"leetcode",problemId:l,title:r,difficulty:i,description:o}}catch(s){return console.error("LeetCode extractor error:",s),null}}function E(t){try{const a=t.location.href.match(/problems\/([^/?#]+)/);if(!a)return null;const l=a[1];let r="";const u=[".problems_header_content__title__L2cB2",".problem-tab h3","h1.problem-title",".problems_header_content h3","h3",".head--title"];for(const n of u){const e=t.querySelector(n);if(e&&e.textContent&&(r=e.textContent.trim(),r&&r.length>3))break}r||(r=l.replace(/-/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "));let i="unknown";const f=[".problems_header_content__difficulty__dV6HS",".difficulty-badge",'[class*="difficulty"]',".badge",".problem-difficulty"];for(const n of f){const e=t.querySelector(n);if(e&&e.textContent){const c=e.textContent.toLowerCase().trim();if(c.includes("easy")||c.includes("basic")||c.includes("school")){i="easy";break}else if(c.includes("medium")){i="medium";break}else if(c.includes("hard")||c.includes("difficult")){i="hard";break}}}let o="";const d=[".problems_problem_content__Xm_eO",".problem-statement",".problem_content",".problem-tab__problem-content",'[class*="problem-content"]',".content"];for(const n of d){const e=t.querySelector(n);if(e&&e.textContent&&(o=e.textContent.trim(),o.length>50))break}return o=o.replace(/\s+/g," ").trim(),o.length>2e3&&(o=o.substring(0,2e3)+"..."),{site:"gfg",problemId:l,title:r,difficulty:i,description:o}}catch(s){return console.error("GFG extractor error:",s),null}}function m(){const t=window.location.hostname;return t.includes("leetcode.com")?C(document):t.includes("geeksforgeeks.org")?E(document):null}function _(t){chrome.runtime.sendMessage({type:p.PROBLEM_CONTEXT,payload:t})}function b(){let t=m();t&&_(t);let s=null;new MutationObserver(()=>{s&&clearTimeout(s),s=setTimeout(()=>{const l=m();l&&JSON.stringify(l)!==JSON.stringify(t)&&(t=l,_(l))},300)}).observe(document.body,{childList:!0,subtree:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b()})();
